<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Breaking Bad Lab ‚Äî Final Reaction</title>

<style>
  /* Reset */
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  :root{
    --bb-green:#6fbf3a;--bb-green-soft:#9adf6b;--bb-bg:#050806;
    --bb-text:#f7fff1;--bb-muted:#c5d8c3;--bb-accent:#f5d36b;--bb-danger:#f05b5b;
    --card-radius:1.2rem;--shadow:0 16px 40px rgba(0,0,0,.65)
  }
  html,body{
    height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
    background:radial-gradient(circle at top,#163020 0,#050806 55%,#000 100%);
    color:var(--bb-text);-webkit-font-smoothing:antialiased
  }
  .container{max-width:1100px;margin:0 auto;padding:20px}

  /* Header */
  header{padding:28px 12px 8px;text-align:center}
  .title-row{display:inline-flex;gap:.7rem;margin-bottom:.6rem}
  .periodic{
    width:72px;height:72px;border-radius:.8rem;border:2px solid rgba(50,92,58,.9);
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    background:linear-gradient(135deg,rgba(17,39,23,.95),rgba(5,12,7,.98));box-shadow:0 0 30px rgba(111,191,58,.18)
  }
  .periodic .sym{font-weight:700;font-size:1.3rem;color:var(--bb-green-soft)}
  .subtitle{color:var(--bb-muted);margin-top:.35rem}

  /* Grid of characters */
  .character-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(190px,1fr));gap:24px;margin-top:20px}
  .card{
    background:linear-gradient(135deg,rgba(8,18,11,.95),rgba(9,22,13,.98));
    border-radius:1rem;border:1px solid rgba(83,132,88,.6);box-shadow:var(--shadow);
    overflow:hidden;padding:12px;display:flex;flex-direction:column;gap:.5rem;transition:transform .25s
  }
  .card:hover{transform:translateY(-6px)}
  .img-wrap{border-radius:.8rem;overflow:hidden;border:1px solid rgba(111,191,58,.25)}
  .img-wrap img{display:block;width:100%;height:auto;object-fit:contain;transition:transform .3s}
  .card:hover .img-wrap img{transform:scale(1.03)}
  .name{font-weight:700}.alias{color:var(--bb-accent);font-size:.78rem;text-transform:uppercase}
  .desc{color:var(--bb-muted);font-size:.88rem;line-height:1.3}
  .btn{
    display:inline-flex;align-items:center;gap:.5rem;padding:.45rem .8rem;border-radius:999px;
    border:1px solid var(--bb-green-soft);
    background:linear-gradient(135deg,rgba(13,37,16,.95),rgba(12,29,14,.98));
    color:var(--bb-text);cursor:pointer;font-size:.78rem;text-transform:uppercase;transition:transform .12s
  }
  .btn:hover{transform:translateY(-2px)}
  .btn.playing{border-color:var(--bb-danger);box-shadow:0 0 20px rgba(240,91,91,.35)}

  /* --- Meth section --- */
  .meth-section{margin-top:36px;padding-top:18px;border-top:1px solid rgba(111,191,58,.18)}
  .meth-title{font-size:1.4rem;color:var(--bb-green-soft);letter-spacing:.06em;margin-bottom:.35rem}
  .meth-sub{color:var(--bb-muted);margin-bottom:14px}

  .meth-row{display:flex;gap:18px;align-items:flex-start;flex-wrap:wrap}

  /* Image / video area: responsive, uses natural image aspect ratio */
  .meth-image-wrap{
    flex:1 1 480px;max-width:861px;border-radius:1rem;overflow:hidden;
    border:2px solid rgba(111,191,58,.55);
    background:linear-gradient(180deg,rgba(111,191,58,.06),transparent);
    box-shadow:var(--shadow);position:relative;padding:8px;
    display:flex;align-items:center;justify-content:center
  }
  .meth-image-wrap img{
    display:block;max-width:100%;height:auto;object-fit:contain;
    transition:opacity .35s ease,transform .35s ease
  }
  .meth-image-wrap video{
    display:none;width:100%;height:auto;border-radius:.6rem;background:#000
  }

  /* quiz controls */
  .meth-quiz{flex:1 1 380px;max-width:420px}
  .question{font-weight:700;text-transform:uppercase;letter-spacing:.04em;margin-bottom:.5rem}
  .options{display:flex;flex-direction:column;gap:12px}
  .option-btn{
    display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-radius:999px;
    background:linear-gradient(90deg, rgba(20,40,24,.45), rgba(8,16,10,.5));
    border:1px solid rgba(154,223,107,.12);color:var(--bb-text);cursor:pointer;
    transition:transform .12s,box-shadow .12s,border-color .12s
  }
  .option-btn:hover{transform:translateY(-3px);box-shadow:0 14px 40px rgba(0,0,0,.55)}
  .option-btn.selected{border-color:var(--bb-accent);box-shadow:0 0 18px rgba(245,211,107,.4)}
  .option-label{flex:1;text-align:left}
  .option-tag{font-size:.75rem;color:var(--bb-green-soft);opacity:.95}
  .feedback{margin-top:10px;min-height:20px;color:var(--bb-muted)}

  .result-box{
    margin-top:14px;padding:14px;border-radius:.9rem;border:1px dashed rgba(154,223,107,.25);
    background:linear-gradient(180deg, rgba(111,191,58,.05), rgba(5,12,7,.94));
    display:none;color:var(--bb-text)
  }
  .result-box.visible{display:block}
  .fun-pop{animation:funPop .38s ease-out both}
  @keyframes funPop{0%{transform:scale(.96);opacity:0}60%{transform:scale(1.03);opacity:1}100%{transform:scale(1);opacity:1}}

  /* footer */
  footer{text-align:center;padding:20px 10px;color:var(--bb-muted)}
  .heart{display:inline-block;animation:heartbeat 1.2s ease-in-out infinite}
  @keyframes heartbeat{0%,100%{transform:scale(1)}10%{transform:scale(1.22)}30%{transform:scale(1)}50%{transform:scale(1.12)}}

  /* responsive */
  @media(max-width:700px){
    .container{padding:18px}
    .meth-row{flex-direction:column-reverse}
    .meth-image-wrap{max-width:100%}
  }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="title-row">
        <div class="periodic"><div class="sym">Br</div><div style="font-size:.7rem;color:var(--bb-muted)">Breaking</div></div>
        <div class="periodic"><div class="sym">Ba</div><div style="font-size:.7rem;color:var(--bb-muted)">Bad</div></div>
      </div>
      <div class="subtitle">Welcome to the chemistry of questionable life choices.</div>
    </header>

    <!-- Character grid -->
    <section class="character-grid" aria-label="Characters">
      <!-- Walter -->
      <article class="card">
        <div class="img-wrap"><img src="images/walter-white.jpg" alt="Walter White" /></div>
        <div>
          <div class="name">Walter White <span class="alias">(Heisenberg)</span></div>
          <div class="desc">Mild-mannered chemistry teacher turned meth kingpin. Specializes in crystal-clear compounds and morally questionable decisions.</div>
          <div style="margin-top:8px">
            <button class="btn audio-btn" data-audio="audio/walter-white.mp3">Say My Name</button>
            <button class="btn audio-btn" data-audio="audio/walter-danger.mp3">I Am The Danger</button>
          </div>
        </div>
      </article>

      <!-- Jesse -->
      <article class="card">
        <div class="img-wrap"><img src="images/jesse-pinkman.jpg" alt="Jesse Pinkman" /></div>
        <div>
          <div class="name">Jesse Pinkman <span class="alias">(Cap'n Cook)</span></div>
          <div class="desc">From small-time slinger to reluctant partner in a high-purity empire. Brings chaos, loyalty, and ‚ÄúYeah science!‚Äù energy.</div>
          <div style="margin-top:8px"><button class="btn audio-btn" data-audio="audio/jesse-pinkman.mp3">Yeah, Science!</button></div>
        </div>
      </article>

      <!-- Saul -->
      <article class="card">
        <div class="img-wrap"><img src="images/saul-goodman.jpg" alt="Saul Goodman" /></div>
        <div>
          <div class="name">Saul Goodman <span class="alias">(James McGill)</span></div>
          <div class="desc">Criminal lawyer ‚Äî emphasis on criminal. Expert in legal loopholes, late-night TV ads, and radioactive suits.</div>
          <div style="margin-top:8px"><button class="btn audio-btn" data-audio="audio/saul-goodman.mp3">Better Call Saul</button></div>
        </div>
      </article>

      <!-- Gus -->
      <article class="card">
        <div class="img-wrap"><img src="images/gus-fring.jpg" alt="Gus Fring" /></div>
        <div>
          <div class="name">Gus Fring <span class="alias">(The Chicken Man)</span></div>
          <div class="desc">Polite businessman on the surface, ruthless mastermind underneath. Runs an empire as clean as his lab.</div>
          <div style="margin-top:8px"><button class="btn audio-btn" data-audio="audio/gus-fring.mp3">Tread Lightly</button></div>
        </div>
      </article>

      <!-- Hank -->
      <article class="card">
        <div class="img-wrap"><img src="images/hank-schrader.jpg" alt="Hank Schrader" /></div>
        <div>
          <div class="name">Hank Schrader <span class="alias">(ASAC Schrader)</span></div>
          <div class="desc">DEA agent with a nose for trouble and a hobby in mineral collecting. Hunting Heisenberg, one clue at a time.</div>
          <div style="margin-top:8px"><button class="btn audio-btn" data-audio="audio/hank-schrader.mp3">Schrader Slam</button></div>
        </div>
      </article>
    </section>

    <!-- METH QUIZ -->
    <section class="meth-section" aria-labelledby="meth-heading">
      <h2 id="meth-heading" class="meth-title">Final Reaction Test</h2>
      <p class="meth-sub">One last experiment. Look at the crystal below and answer the lab‚Äôs question.</p>

      <div class="meth-row">
        <!-- IMAGE / VIDEO AREA -->
        <div class="meth-image-wrap" id="meth-image-wrap">
          <img id="meth-image" src="images/meth-crystal.png" alt="mysterious crystal" />
          <!-- video replaces image here after fade -->
          <video id="meth-video" src="video/not-meth.mp4" controls playsinline></video>
        </div>

        <!-- QUIZ CONTROLS -->
        <div class="meth-quiz">
          <div class="question">What is this?</div>

          <div class="options">
            <button class="option-btn" data-choice="meth" id="opt-meth">
              <div class="option-label"><strong>Meth üßä</strong></div>
              <div class="option-tag">Option 1</div>
            </button>

            <button class="option-btn" data-choice="candy" id="opt-candy">
              <div class="option-label">Limited edition blue rock candy üòã</div>
              <div class="option-tag">Option 2</div>
            </button>
          </div>

          <div class="feedback" id="meth-feedback" aria-live="polite"></div>

          <div class="result-box" id="fun-result">
            <p>Nope! This belongs in Heisenberg‚Äôs cook. You can retry, if you dare.</p>
            <p style="color:var(--bb-muted);margin-top:8px;font-size:.86rem">
              Smart answer, though. Never admit anything in a lab‚Ä¶ or to the DEA.
            </p>
          </div>
        </div>
      </div>
    </section>

    <footer style="margin-top:28px;text-align:center;color:var(--bb-muted)">
      Made With <span class="heart">‚ù§Ô∏è</span> By Avinash Gupta!
    </footer>
  </div>

<script>
/* --- Audio handler for character buttons --- */
let currentAudio=null,currentBtn=null;
function playAudio(src,btn){
  if(currentBtn===btn && currentAudio){
    currentAudio.pause();currentAudio.currentTime=0;
    if(currentBtn) currentBtn.classList.remove('playing');
    currentAudio=null;currentBtn=null;return;
  }
  if(currentAudio){
    currentAudio.pause();currentAudio.currentTime=0;
    if(currentBtn) currentBtn.classList.remove('playing');
  }
  if(!src) return;
  const a=new Audio(src);currentAudio=a;currentBtn=btn;
  if(btn) btn.classList.add('playing');
  a.play().catch(()=>{if(btn) btn.classList.remove('playing');currentAudio=null;currentBtn=null;});
  a.addEventListener('ended',()=>{if(btn) btn.classList.remove('playing');currentAudio=null;currentBtn=null;});
}
document.querySelectorAll('.audio-btn').forEach(b=>{
  b.addEventListener('click',()=>playAudio(b.dataset.audio,b));
});

/* --- Meth quiz behaviour --- */
const optMeth=document.getElementById('opt-meth');
const optCandy=document.getElementById('opt-candy');
const feedback=document.getElementById('meth-feedback');
const funResult=document.getElementById('fun-result');

const methImage=document.getElementById('meth-image');
const methVideo=document.getElementById('meth-video');

function clearSelections(){
  [optMeth,optCandy].forEach(b=>b.classList.remove('selected'));
  feedback.textContent='';
  funResult.classList.remove('visible','fun-pop');
}

// crossfade: image fades out, then video appears
function crossfadeToVideo(){
  // reset states
  methVideo.pause();
  methVideo.style.display='none';
  methVideo.currentTime=0;
  methImage.style.display='block';
  methImage.style.opacity='1';

  // fade out image
  requestAnimationFrame(()=>{
    methImage.style.opacity='0';
    setTimeout(()=>{
      methImage.style.display='none';
      methVideo.style.display='block';
      const p=methVideo.play();
      if(p && typeof p.then==='function'){p.catch(()=>{});}
    },350);
  });
}

optMeth.addEventListener('click',()=>{
  clearSelections();
  optMeth.classList.add('selected');
  feedback.textContent="Bold choice. Let‚Äôs see what really happens in this reaction...";
  crossfadeToVideo();
});

optCandy.addEventListener('click',()=>{
  clearSelections();
  optCandy.classList.add('selected');
  feedback.textContent="Smart move. Never admit anything in a lab‚Ä¶ or to the DEA.";
  funResult.classList.add('visible','fun-pop');
});
</script>
</body>
</html>
